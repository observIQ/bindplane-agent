# minimum confidence percentage used during license classification
threshold: .90

# all permitted licenses - if no list is specified, all licenses are assumed to be allowed
allow:
  - "MIT"
  - "Apache-2.0"
  - "BSD-3-Clause"
  - "BSD-2-Clause"
  - "BSD-2-Clause-FreeBSD"
  - "Zlib"
  - "ISC"
  - "MPL-2.0"

override:
  - path: "github.com/hashicorp/cronexpr"
    versions: "v1.1.1"
    licenses: ["Apache-2.0"] # repo allows to choose between Apache-2.0 and GPL v3 https://github.com/hashicorp/cronexpr#license
  - path: "github.com/weaveworks/common"
    licenses: ["Apache-2.0"] # Actual license is Apache-2.0, there is a single script that we don't use under LGPL-3.0 https://github.com/weaveworks/common/blob/master/LICENSE
  - path: "github.com/grafana/loki"
    versions: "v1.6.2"
    licenses: ["Apache-2.0"] # Actual packages used in the Loki exporter are Apache-2.0 https://github.com/grafana/loki/blob/main/pkg/logproto/LICENSE_APACHE2

exceptions:
  licenseNotPermitted:
    # opencontainers/go-digest is Apache 2.0 licensed, the README and CONTRIBUTING docs
    # are creative commons. https://github.com/opencontainers/go-digest#copyright-and-license
    - path: "github.com/opencontainers/go-digest"
  unresolvableLicense:
    # uses a custom license that says we can basically do whatever we want with it
    - path: "github.com/xi2/xz"
    - path: "./processor/resourceattributetransposerprocessor"
    - path: "./receiver/pluginreceiver"
    - path: "./exporter/googlecloudexporter"
    - path: "./packagestate"
    - path: "../packagestate"
    - path: "./opamp/observiq/testdata/latest"
    - path: "./processor/throughputmeasurementprocessor"
